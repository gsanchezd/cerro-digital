---
import { Image } from 'astro:assets';

const { schools } = Astro.props;


---

<section class="text-[var(--color-base)] container mx-auto w-full relative pb-30 md:pb-0">
  <div class="flex flex-wrap items-center justify-center gap-10 mt-12 px-4">
    {
      Object.entries(
        schools.reduce((acc, school) => {
          acc[school.comuna] = acc[school.comuna] || [];
          acc[school.comuna].push(school);
          return acc;
        }, {})
      ).map(([comuna, schoolsInComuna]) => (
        <div class="flex flex-col items-center h-72 md:h-78 grow">
<div class="grow flex flex-wrap justify-center gap-6 w-full md:flex-nowrap md:h-78">
  {schoolsInComuna.map((school) => (
    <div class="mb-4 flex flex-col items-center">
      <Image
        loading="lazy"
        src={school.image}
        alt={school.name}
        height={128}
        class="h-32 rounded-lg"
      />
      <p class="mt-4 text-center w-32">{school.name}</p>
    </div>
  ))}
</div>




          <div class="h-2 w-full border-b border-dashed border-[var(--color-primary)] mb-4"></div>
          <span>{comuna}</span>
        </div>
      ))
    }
  </div>
  <div
    aria-hidden="true"
    class="absolute inset-x-0 top-0 transform-gpu -z-10 overflow-hidden blur-3xl"
  >
    <div
      style="clip-path: ellipse();"
      class="relative left-[50%] aspect-square w-144 -translate-x-1/2 bg-linear-to-tr from-[var(--color-astronaut)] to-[var(--color-blue)] opacity-15"
    >
    </div>
  </div>
</section>
